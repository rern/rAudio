!function(r,n){"use strict";for(var t="length",a=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],e=/^\d*$/,o=/^[A-Za-z0-9 $%*+\-./:]*$/,u=/^[A-Z0-9 $%*+\-./:]*$/,f=[],i=[-1],v=0,s=1;v<255;++v)f.push(s),i[s]=v,s=2*s^(s>=128?285:0);for(var c=[[]],h=0;h<30;++h){for(var p=c[h],l=[],d=0;d<=h;++d){var w=d<h?f[p[d]]:0,m=f[(h+(p[d-1]||0))%255];l.push(i[w^m])}c.push(l)}for(var g={},A=0;A<45;++A)g["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(A)]=A;var C=[function(r,n){return(r+n)%2==0},function(r){return r%2==0},function(r,n){return n%3==0},function(r,n){return(r+n)%3==0},function(r,n){return((r/2|0)+(n/3|0))%2==0},function(r,n){return r*n%2+r*n%3==0},function(r,n){return(r*n%2+r*n%3)%2==0},function(r,n){return((r+n)%2+r*n%3)%2==0}],$=function(r){return r>6},b=function(r,n){var e=-8&function(r){var n=a[r],e=16*r*r+128*r+64;return $(r)&&(e-=36),n[2][t]&&(e-=25*n[2][t]*n[2][t]-10*n[2][t]-55),e}(r),o=a[r];return e-=8*o[0][n]*o[1][n]},k=function(r,n){switch(n){case 1:return r<10?10:r<27?12:14;case 2:return r<10?9:r<27?11:13;case 4:return r<10?8:16;case 8:return r<10?8:r<27?10:12}},x=function(r,n,t){var a=b(r,t)-4-k(r,n);switch(n){case 1:return 3*(a/10|0)+(a%10<4?0:a%10<7?1:2);case 2:return 2*(a/11|0)+(a%11<6?0:1);case 4:return a/8|0;case 8:return a/13|0}},y=function(r,n){for(var a=r.slice(0),e=r[t],o=n[t],u=0;u<o;++u)a.push(0);for(var v=0;v<e;){var s=i[a[v++]];if(s>=0)for(var c=0;c<o;++c)a[v+c]^=f[(s+n[c])%255]}return a.slice(e)},L=function(r,n,t,a){for(var e=r<<a,o=n-1;o>=0;--o)e>>a+o&1&&(e^=t<<o);return r<<a|e},I=function(r,n,a){for(var e=C[a],o=r[t],u=0;u<o;++u)for(var f=0;f<o;++f)n[u][f]||(r[u][f]^=e(u,f));return r},M=function(r,n,a,e){for(var o=r[t],u=21522^L(a<<3|e,5,1335,10),f=0;f<15;++f){var i=[o-1,o-2,o-3,o-4,o-5,o-6,o-7,o-8,7,5,4,3,2,1,0][f];r[[0,1,2,3,4,5,7,8,o-7,o-6,o-5,o-4,o-3,o-2,o-1][f]][8]=r[8][i]=u>>f&1}return r},Q=function(r){for(var n=function(r){for(var n=0,a=0;a<r[t];++a)r[a]>=5&&(n+=r[a]-5+3);for(var e=5;e<r[t];e+=2){var o=r[e];r[e-1]===o&&r[e-2]===3*o&&r[e-3]===o&&r[e-4]===o&&(r[e-5]>=4*o||r[e+1]>=4*o)&&(n+=40)}return n},a=r[t],e=0,o=0,u=0;u<a;++u){var f,i=r[u];f=[0];for(var v=0;v<a;){var s;for(s=0;v<a&&i[v];++s)++v;for(f.push(s),s=0;v<a&&!i[v];++s)++v;f.push(s)}e+=n(f),f=[0];for(var c=0;c<a;){var h;for(h=0;c<a&&r[c][u];++h)++c;for(f.push(h),h=0;c<a&&!r[c][u];++h)++c;f.push(h)}e+=n(f);var p=r[u+1]||[];o+=i[0];for(var l=1;l<a;++l){var d=i[l];o+=d,i[l-1]===d&&p[l]===d&&p[l-1]===d&&(e+=3)}}return e+=10*(Math.abs(o/a/a-.5)/.05|0)},U=function(r,n,e,o,u){var f=a[n],i=function(r,n,a,e){var o=[],u=0,f=8,i=a[t],v=function(r,n){if(n>=f){for(o.push(u|r>>(n-=f));n>=8;)o.push(r>>(n-=8)&255);u=0,f=8}n>0&&(u|=(r&(1<<n)-1)<<(f-=n))},s=k(r,n);switch(v(n,4),v(i,s),n){case 1:for(var c=2;c<i;c+=3)v(parseInt(a.substring(c-2,c+1),10),10);v(parseInt(a.substring(c-2),10),[0,4,7][i%3]);break;case 2:for(var h=1;h<i;h+=2)v(45*g[a.charAt(h-1)]+g[a.charAt(h)],11);i%2==1&&v(g[a.charAt(h-1)],6);break;case 4:for(var p=0;p<i;++p)v(a[p],8)}for(v(0,4),f<8&&o.push(u);o[t]+1<e;)o.push(236,17);return o[t]<e&&o.push(236),o}(n,e,r,b(n,o)>>3);i=function(r,n,a){for(var e=[],o=r[t]/n|0,u=0,f=n-r[t]%n,i=0;i<f;++i)e.push(u),u+=o;for(var v=f;v<n;++v)e.push(u),u+=o+1;e.push(u);for(var s=[],c=0;c<n;++c)s.push(y(r.slice(e[c],e[c+1]),a));for(var h=[],p=r[t]/n|0,l=0;l<p;++l)for(var d=0;d<n;++d)h.push(r[e[d]+l]);for(var w=f;w<n;++w)h.push(r[e[w+1]-1]);for(var m=0;m<a[t];++m)for(var g=0;g<n;++g)h.push(s[g][m]);return h}(i,f[1][o],c[f[0][o]]);var v=function(r){for(var n=a[r],e=function(r){return 4*r+17}(r),o=[],u=[],f=0;f<e;++f)o.push([]),u.push([]);var i=function(r,n,t,a,e){for(var f=0;f<t;++f)for(var i=0;i<a;++i)o[r+f][n+i]=e[f]>>i&1,u[r+f][n+i]=1};i(0,0,9,9,[127,65,93,93,93,65,383,0,64]),i(e-8,0,8,9,[256,127,65,93,93,93,65,127]),i(0,e-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var v=9;v<e-8;++v)o[6][v]=o[v][6]=1&~v,u[6][v]=u[v][6]=1;for(var s=n[2],c=s[t],h=0;h<c;++h)for(var p=0===h?c-1:c,l=0===h||h===c-1?1:0;l<p;++l)i(s[h],s[l],5,5,[31,17,21,17,31]);if($(r))for(var d=L(r,6,7973,12),w=0,m=0;m<6;++m)for(var g=0;g<3;++g)o[m][e-11+g]=o[e-11+g][m]=d>>w++&1,u[m][e-11+g]=u[e-11+g][m]=1;return{matrix:o,reserved:u}}(n),s=v.matrix,h=v.reserved;if(function(r,n,a){for(var e=r[t],o=0,u=-1,f=e-1;f>=0;f-=2){6===f&&--f;for(var i=u<0?e-1:0,v=0;v<e;++v){for(var s=f;s>f-2;--s)n[i][s]||(r[i][s]=a[o>>3]>>(7&~o)&1,++o);i+=u}u=-u}}(s,h,i),u<0){I(s,h,0),M(s,0,o,0);var p=0,l=Q(s);for(I(s,h,0),u=1;u<8;++u){I(s,h,u),M(s,0,o,u);var d=Q(s);l>d&&(l=d,p=u),I(s,h,u)}u=p}return I(s,h,u),M(s,0,o,u),s},Z={generate:function(r,n){var a=n||{},f={numeric:1,alphanumeric:2,octet:4},i={L:1,M:0,Q:3,H:2},v=a.version||-1,s=i[(a.ecclevel||"L").toUpperCase()],c=a.mode?f[a.mode.toLowerCase()]:-1,h="mask"in a?a.mask:-1;if(c<0)c="string"==typeof r?r.match(e)?1:r.match(u)?2:4:4;else if(1!==c&&2!==c&&4!==c)throw"invalid or unsupported mode";if(r=function(r,n){switch(r){case 1:return n.match(e)?n:null;case 2:return n.match(o)?n.toUpperCase():null;case 4:if("string"==typeof n){for(var a=[],u=0;u<n[t];++u){var f=n.charCodeAt(u);f<128?a.push(f):f<2048?a.push(192|f>>6,128|63&f):f<65536?a.push(224|f>>12,128|f>>6&63,128|63&f):a.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)}return a}return n}}(c,r),null===r)throw"invalid data format";if(s<0||s>3)throw"invalid ECC level";if(v<0){for(v=1;v<=40&&!(r[t]<=x(v,c,s));++v);if(v>40)throw"too large data"}else if(v<1||v>40)throw"invalid version";if(-1!==h&&(h<0||h>8))throw"invalid mask";return U(r,v,c,s,h)},generateSVG:function(r){for(var n=Z.generate(r),a=n[t],e="",o=0;o<a;o++){for(var u=0;u<a;u++)n[o][u]&&(e+='<rect x="'+u+'" y="'+o+'" width="1" height="1"></rect>');0}return'<svg viewBox="0 0 '+a+" "+a+'">'+e+"</svg>"}};r.QRCode=Z}("undefined"!=typeof window?window:this,document);
